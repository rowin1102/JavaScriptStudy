<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        /* reduce함수
            - 배열을 순회하면서 원소의 값을 하나로 줄여서 반환한다.
            - 즉, 반환값이 있으나 배열이 아닌, 하나의 단일 결과값만 반환된다는 것이다.
            - thisArgs 대신 초기값을 사용한다.
            형식]
                반환결과 = 원본배열.reduce(
                                콜백함수(이전회차의 반환값, 현재값, 인덱스, 원본배열){
                                    실행부;
                                    return 반환값;
                                },
                                초기값;
                            ); 
            실행과정]
                #배열의 크기가 N이라고 가정했을때
                - 초기값이 있다면 -> N번 반복
                - 초기값이 없다면 -> N - 1번 반복한다. */


        /* 함수정의 및 즉시 호출하기
            (function(){
                실행부;
            })(); 
            이와같이 함수를 소괄호로 감싼후 ()을 붙여주면 함수를 정의함과 동시에
            호출되어 실행된다. 이미 실행이 된 상태가 되므로 2번 호출할 수 없다. */
        (function reduceTest1() {
            console.error("reduceTest1() called..기본사용법");
            var oldArray = [0, 1, 2, 3, 4];
            oldArray.reduce(function(previousVal, currenVal, index, array) {
                console.log(previousVal, currenVal, index);
            });
        })();

        function reduceTest2() {
            console.error("reduceTest2() called..return값 사용하기");
            var oldArray = [0, 1, 2, 3, 4];
            var sum = oldArray.reduce(function(previousVal, currenVal) {
                console.log(previousVal, currenVal);
                return previousVal + currenVal;
            });
            console.log(sum);
        }
        
        function reduceTest3() {
            console.error("reduceTest3() called..초기값 사용하기");
            var oldArray = [0, 1, 2, 3, 4];
            var sum = oldArray.reduce(function(previousVal, currenVal) {
                console.log(previousVal, currenVal);
                return previousVal + currenVal;
            }, 2);
            console.log(sum);
        }

        function reduceTest4() {
            console.error("reduceTest4() called..배열에서 중복값을 제거하는 함수 구현");
            var oldArray = [0, 1, 2, 3, 3, 3, 4, 5, 5, 6, 6];
            var newArray = oldArray.reduce(
                function(previousVal, currenVal) {
                    if(previousVal.indexOf(currenVal)<0) {
                        previousVal.push(currenVal);
                    }
                    return previousVal;
                }, []);
                console.log(newArray);
        }
    </script>
</head>
<body>
    <h2>고차함수 - filter()</h2>
    <div>
        <input type="button" value="reduce1" onclick="reduceTest1();">
        <input type="button" value="reduce2" onclick="reduceTest2();">
        <input type="button" value="reduce3" onclick="reduceTest3();">
        <input type="button" value="reduce4" onclick="reduceTest4();">
    </div>
</body>
</html>